(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{201:function(e,t,a){e.exports=a(347)},206:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(55),r=a.n(i),c=(a(206),a(25)),s=a(26),o=a(27),u=a(28),m=a(29),d=a(72),f=a(49),h=a(33),p=a.n(h),g=a(38),v=a(35),E=(a(98),a(71)),b=a.n(E),w=a(364),y=a(357),k=a(362),C=a(65),O=a(360),S=a(359),j=a(355),N=window.liff,I="https://line-smartfarm-api.herokuapp.com",x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).register=function(e){console.log("Registering..."),e.preventDefault(),a.setState({loading:!0}),b.a.post(I+"/users",{uid:a.state.uid,name:a.state.name,tel:a.state.tel}).then((function(e){console.log(e),console.log("Register Success!"),a.setState({registered:!0}),setTimeout((function(){N.closeWindow()}),2e3)})).catch((function(e){console.log(e),console.log("Register Failed!"),a.setState({loading:!0,registered:!0,duplicated:!0}),setTimeout((function(){a.setState({loading:!1,registered:!1,duplicated:!1})}),2500)}))},a.changeHandler=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.state={uid:"",line_pic:"",name:"",tel:"",loading:!1,loader:!1,verify:!1,registered:!1,duplicated:!1},a.initialize=a.initialize.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"initialize",value:function(){var e=this;N.init({liffId:"1653759696-vxLMYoW8"},(function(){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("Getting UID from LIFF"),!N.isLoggedIn()){a.next=9;break}return a.next=4,p.a.awrap(N.getProfile());case 4:t=a.sent,e.setState({uid:t.userId,line_pic:t.pictureUrl}),e.verify(),a.next=10;break;case 9:N.login();case 10:case"end":return a.stop()}}))}))}},{key:"componentDidMount",value:function(){var e=this;document.title="Register",setTimeout((function(){e.initialize(),e.setState({loader:!0})}),500)}},{key:"verify",value:function(){var e=this;console.log("Checking for duplicated..."),console.log("UID: "+this.state.uid),b.a.post(I+"/verify",{uid:this.state.uid}).then((function(t){console.log("New UID Detected!"),e.setState({loader:!1}),setTimeout((function(){e.setState({verify:!0})}),1500)})).catch((function(e){console.log("Duplicated UID Detected!"),N.closeWindow()}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,this.state.verify?l.a.createElement("div",{id:"register-form",className:"main"},l.a.createElement(w.a,{visible:this.state.verify,animation:"fade up",duration:1e3},l.a.createElement(y.a,{onSubmit:this.register},l.a.createElement(k.a,{as:"h1",icon:!0,className:"prompt"},l.a.createElement(C.a,{name:"pencil alternate"}),"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e43\u0e2b\u0e21\u0e48",l.a.createElement(k.a.Subheader,{className:"subheader"},this.state.loading?"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e2d\u0e2a\u0e31\u0e01\u0e04\u0e23\u0e39\u0e48 \u0e01\u0e33\u0e25\u0e31\u0e07\u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25\u0e1c\u0e25\u0e04\u0e48\u0e30":"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e23\u0e34\u0e48\u0e21\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e14\u0e49\u0e27\u0e22\u0e04\u0e48\u0e30")),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{className:"form-label"},"\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e01\u0e29\u0e15\u0e23\u0e01\u0e23"),l.a.createElement("input",{required:!0,className:"form-input",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48",type:"text",name:"name",value:this.state.name,disabled:this.state.loading,onChange:this.changeHandler})),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{className:"form-label"},"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"),l.a.createElement("input",{required:!0,className:"form-input",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48",maxLength:"10",type:"tel",name:"tel",value:this.state.tel,disabled:this.state.loading,onChange:this.changeHandler})),l.a.createElement(O.a,{color:"orange",content:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19",className:"form-btn",type:"submit",disabled:this.state.loading,loading:this.state.loading}))),l.a.createElement("div",null,l.a.createElement(S.a,{active:this.state.registered,onClickOutside:this.handleClose,page:!0},l.a.createElement(k.a,{as:"h2",icon:!0,inverted:!0,className:"prompt"},l.a.createElement(C.a,{name:this.state.duplicated?"times":"check"}),this.state.duplicated?"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e25\u0e49\u0e21\u0e40\u0e2b\u0e25\u0e27!":"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08!",l.a.createElement(k.a.Subheader,{className:"subheader"},this.state.duplicated?"\u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07\u0e04\u0e48\u0e30":"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e2b\u0e19\u0e49\u0e32\u0e15\u0e48\u0e32\u0e07\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e04\u0e48\u0e30",l.a.createElement("span",{role:"img","aria-label":"please"}," ","\ud83d\ude80")))))):l.a.createElement("div",{id:"loader",className:"main"},l.a.createElement(w.a,{visible:this.state.loader,animation:"fade up",duration:1e3},l.a.createElement("div",null,l.a.createElement(j.a,{size:"massive",active:!0,indeterminate:!0,inverted:!0},l.a.createElement(k.a,{as:"h2",className:"prompt"},l.a.createElement("br",null),"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14...",l.a.createElement(k.a.Subheader,{className:"subheader"},"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e2d\u0e2a\u0e31\u0e01\u0e04\u0e23\u0e39\u0e48\u0e04\u0e48\u0e30",l.a.createElement("span",{role:"img","aria-label":"please"}," ","\ud83e\udd7a")))))))))}}]),t}(n.Component),D=window.liff,z=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"initialize",value:function(){D.init({liffId:"1653759696-JeYDkn12"},(function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Getting UID from LIFF"),!D.isLoggedIn()){e.next=6;break}return e.next=4,p.a.awrap(D.scanCode());case 4:e.next=7;break;case 6:D.login();case 7:case"end":return e.stop()}}))}))}},{key:"scanCode",value:function(){D.scanCode().then((function(e){var t=JSON.stringify(e);alert(t),document.getElementById("scanCode").textContent=t,D.init({liffId:"1653759696-JeYDkn12"},(function(){D.scanCode()}))}))}},{key:"componentDidMount",value:function(){document.title="QRScan",this.initialize()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("p",{id:"scanCode"}))}}]),t}(n.Component);function R(){return l.a.createElement("div",{className:"main"},l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(d.b,{to:"/register"},"Register"),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(d.b,{to:"/qrscan"},"QR"),l.a.createElement("br",null)))}var U=a(358),F=a(363),H=a(356),L=window.liff,T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).viewTable=function(){for(var e=[],t=0;t<a.state.plant.length;t++){for(var n=[],i=0;i<1;i++)n.push(l.a.createElement(U.a.Cell,null,a.state.plant[t]),l.a.createElement(U.a.Cell,null,a.state.farm[t]),l.a.createElement(U.a.Cell,null,a.state.water[t]),l.a.createElement(U.a.Cell,null,"".concat(a.state.height[t]," \u0e0b\u0e21.")),l.a.createElement(U.a.Cell,null,"".concat(a.state.leaf[t]," \u0e43\u0e1a")));e.push(l.a.createElement(F.a,null,l.a.createElement(k.a,{as:"h2",floated:"left",className:"prompt"},"\u0e15\u0e32\u0e23\u0e32\u0e07\u0e1c\u0e25"),l.a.createElement(H.a,{clearing:!0}),l.a.createElement(U.a,{unstackable:!0,celled:!0,basic:"very"},l.a.createElement(U.a.Header,null,l.a.createElement(U.a.Row,null,l.a.createElement(U.a.HeaderCell,null,"\u0e1e\u0e37\u0e0a"),l.a.createElement(U.a.HeaderCell,null,"\u0e1f\u0e32\u0e23\u0e4c\u0e21"),l.a.createElement(U.a.HeaderCell,null,"\u0e23\u0e14\u0e19\u0e49\u0e33"),l.a.createElement(U.a.HeaderCell,null,"\u0e2a\u0e39\u0e07"),l.a.createElement(U.a.HeaderCell,null,"\u0e43\u0e1a"))),l.a.createElement(U.a.Body,null,l.a.createElement(U.a.Row,null,n)))))}return e},a.state={uid:"U5cb554c9f62d7cdc818debf75701637b",line_pic:"",name:"",tel:"",loading:!1,loader:!1,verify:!1,plant:[],farm:[],water:[],height:[],leaf:[]},a.initialize=a.initialize.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"initialize",value:function(){var e=this;L.init({liffId:"1653759696-dlvPpnL2"},(function(){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("Getting UID from LIFF"),!L.isLoggedIn()){a.next=9;break}return a.next=4,p.a.awrap(L.getProfile());case 4:t=a.sent,e.setState({uid:t.userId,line_pic:t.pictureUrl}),e.getData(),a.next=10;break;case 9:L.login();case 10:case"end":return a.stop()}}))}))}},{key:"componentDidMount",value:function(){var e=this;document.title="View",setTimeout((function(){e.getData(),e.setState({loader:!0})}),500)}},{key:"getData",value:function(){var e=this;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Getting a data from user..."),console.log("UID: "+this.state.uid),t.next=4,p.a.awrap(b.a.get("https://line-smartfarm-api.herokuapp.com"+"/users/".concat(this.state.uid)).then((function(t){console.log(t.data.report);for(var a=0;a<t.data.report.length;a++)e.setState({plant:e.state.plant.concat(t.data.report[a].plant),farm:e.state.farm.concat(t.data.report[a].farm),water:e.state.water.concat(t.data.report[a].water),height:e.state.height.concat(t.data.report[a].height),leaf:e.state.leaf.concat(t.data.report[a].leaf)});e.setState({loader:!1}),setTimeout((function(){e.setState({verify:!0})}),1500)})).catch((function(e){console.error(e)})));case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,this.state.verify?l.a.createElement("div",{id:"",className:"main report-table"},l.a.createElement(w.a,{visible:this.state.verify,animation:"fade up",duration:1e3},l.a.createElement("div",{id:"report-table"},l.a.createElement(k.a,{as:"h1",icon:!0,className:"prompt"},l.a.createElement(C.a,{name:"file alternate outline"}),"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e1c\u0e25",l.a.createElement(k.a.Subheader,{className:"subheader"},this.state.loading?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14\u0e02\u0e49\u0e2d\u0e21\u0e38\u0e25 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e2d\u0e2a\u0e31\u0e01\u0e04\u0e23\u0e39\u0e48\u0e04\u0e48\u0e30":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e1c\u0e25\u0e15\u0e32\u0e21\u0e15\u0e32\u0e23\u0e32\u0e07\u0e14\u0e49\u0e32\u0e19\u0e25\u0e48\u0e32\u0e07\u0e04\u0e48\u0e30")),this.viewTable()))):l.a.createElement("div",{id:"loader",className:"main"},l.a.createElement(w.a,{visible:this.state.loader,animation:"fade up",duration:1e3},l.a.createElement("div",null,l.a.createElement(j.a,{size:"massive",active:!0,indeterminate:!0,inverted:!0},l.a.createElement(k.a,{as:"h2",className:"prompt"},l.a.createElement("br",null),"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14...",l.a.createElement(k.a.Subheader,{className:"subheader"},"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e2d\u0e2a\u0e31\u0e01\u0e04\u0e23\u0e39\u0e48\u0e04\u0e48\u0e30",l.a.createElement("span",{role:"img","aria-label":"please"}," ","\ud83e\udd7a")))))))))}}]),t}(n.Component),q=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,{basename:"/smartfarm-website"},l.a.createElement(f.a,{exact:!0,path:"/",component:R}),l.a.createElement(f.a,{path:"/Register",component:x}),l.a.createElement(f.a,{path:"/QRScan",component:z}),l.a.createElement(f.a,{path:"/View",component:T}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t,a){}},[[201,1,2]]]);
//# sourceMappingURL=main.8600edc2.chunk.js.map